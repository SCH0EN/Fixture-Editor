<UserControl x:Class="InterdisciplinairProject.Views.FixtureSettingsView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converters="clr-namespace:InterdisciplinairProject.Converters"
       Height="450" Width="800">
    
    <UserControl.Resources>
        <converters:HexColorConverter x:Key="HexColorConverter"/>
    </UserControl.Resources>
    
    <Canvas Background="LightGreen" Margin="260,70,10,60">
        
        <!-- Title -->
        <TextBlock Text="{Binding FixtureName}" 
                   FontSize="18" 
                   FontWeight="Bold"
                   Canvas.Left="10" 
                   Canvas.Top="10"/>

        <!-- Dynamic Sliders using ItemsControl -->
        <ScrollViewer Canvas.Left="10" 
                      Canvas.Top="50" 
                      Height="280" 
                      Width="500"
                      HorizontalScrollBarVisibility="Auto"
                      VerticalScrollBarVisibility="Disabled">
            <ItemsControl ItemsSource="{Binding Channels}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Vertical" 
                                    HorizontalAlignment="Center" 
                                    Margin="5,0">
                            <!-- Channel Symbol -->
                            <TextBlock Text="{Binding Symbol}" 
                                       HorizontalAlignment="Center"
                                       FontSize="32"
                                       FontWeight="Bold"
                                       Foreground="{Binding ColorHex, Converter={StaticResource HexColorConverter}}"
                                       Margin="0,0,0,5"/>
                            
                            <!-- Channel Name -->
                            <TextBlock Text="{Binding Name}" 
                                       HorizontalAlignment="Center"
                                       FontWeight="SemiBold"
                                       Margin="0,0,0,5"/>
                            
                            <!-- Slider -->
                            <Slider Minimum="0" 
                                    Maximum="255" 
                                    Orientation="Vertical"
                                    Value="{Binding Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    Height="160" 
                                    Width="40"/>
                            
                            <!-- Value Label -->
                            <Label Content="{Binding Value}" 
                                   HorizontalAlignment="Center" 
                                   Margin="0,8,0,0"/>
                        </StackPanel>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
        
        <!-- Buttons -->
        <StackPanel Orientation="Vertical"
                    Canvas.Right="10"
                    Canvas.Bottom="10">
            <Button Content="Save" Width="90" Height="25" Margin="0,0,0,8" Click="SaveButton_Click"/>
            <Button Content="Cancel" Width="90" Height="25" Click="CancelButton_Click"/>
        </StackPanel>
        
    </Canvas>
</UserControl>
